# /new-feature 명령어

새로운 게임 기능을 개발합니다.

---

## 사용법

```
/new-feature [기능 설명]
```

---

## 실행 단계

### 1. 수집 (Gather)

| 활동 | 에이전트 | 설명 |
|------|----------|------|
| 요구사항 명확화 | - | 사용자 요청 분석 |
| 관련 코드 탐색 | **Explore** | 기존 구현 분석 |
| 기존 구현 분석 | **Explore** | 패턴/구조 파악 |

### 2. 분석 (Analyze)

| 활동 | 에이전트 | 설명 |
|------|----------|------|
| 영향 범위 파악 | - | 변경 파일 목록 |
| 에이전트 선택 | - | 키워드 기반 선택 |

**키워드 → 에이전트 매핑**:

| 키워드 | 에이전트 |
|--------|---------|
| Entity, Player, Monster, NPC | **Entity** |
| Scene, 씬, 화면 | **Scene** |
| System, 전투, 로직 | **System** |
| UI, HUD, 메뉴 | **UI** |
| 에셋, 스프라이트 | **Asset** |

### 3. 우선순위 (Prioritize)

| 활동 | 도구 | 설명 |
|------|------|------|
| 작업 분해 | TodoWrite | 세부 작업 목록 |
| 의존성 순서 | - | 구현 순서 결정 |

**게임 개발 순서**:
```
1. 타입 정의 (types/)
2. 엔티티 구현 (entities/)     → Entity Agent
3. 시스템 구현 (systems/)      → System Agent
4. 씬 통합 (scenes/)           → Scene Agent
5. UI 연결 (ui/)               → UI Agent
6. 에셋 생성 (필요 시)          → Asset Agent
```

### 4. 실행 (Execute)

| 에이전트 | 담당 영역 | 산출물 |
|----------|----------|--------|
| **Entity** | src/entities/ | 엔티티 클래스 |
| **System** | src/systems/ | 게임 로직 |
| **Scene** | src/scenes/ | 씬 통합 |
| **UI** | src/ui/ | UI 컴포넌트 |
| **Asset** | public/assets/ | 스프라이트, 타일셋 |

### 5. 검증 (Validate)

| 활동 | 에이전트/도구 | 명령어 |
|------|--------------|--------|
| 단위 테스트 | **Tester** | `npm run test` |
| 타입 체크 | - | `npx tsc --noEmit` |
| 빌드 | - | `npm run build` |
| 품질 검증 | **QA** | `make qa` |

```bash
# Quality Gate (자동)
make qa-auto

# 수동 테스트 (필요 시)
make qa-manual
```

### 6. Next Step 제안

- 추가 개선 사항 제안
- 테스트 체크리스트 제공
- 관련 기능 권장

---

## 에이전트 협업 다이어그램

```
┌─────────────────────────────────────────────────────────────────┐
│  /new-feature 실행                                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Gather ──────→ Explore Agent                                   │
│                     │                                            │
│                     ▼                                            │
│  Analyze ─────→ 에이전트 선택                                    │
│                     │                                            │
│           ┌─────────┼─────────┬─────────┬─────────┐             │
│           ▼         ▼         ▼         ▼         ▼             │
│        Entity    Scene    System      UI      Asset              │
│        Agent     Agent    Agent     Agent    Agent               │
│           │         │         │         │         │             │
│           └─────────┴─────────┴─────────┴─────────┘             │
│                              │                                   │
│                              ▼                                   │
│  Validate ────→ Tester Agent (단위 테스트)                       │
│                 QA Agent (품질 검증)                             │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 예시

```bash
# 새 몬스터 추가
/new-feature 새로운 고블린 몬스터 추가

# 에이전트 흐름:
# 1. Explore → 기존 Monster 클래스 분석
# 2. Entity Agent → 고블린 클래스 생성
# 3. Asset Agent → 고블린 스프라이트 생성
# 4. Scene Agent → GameScene에 배치
# 5. Tester Agent → 테스트 작성
# 6. QA Agent → 검증
```

---

## 관련 명령어

| 명령어 | 설명 |
|--------|------|
| `/bugfix` | 버그 수정 |
| `/qa` | 품질 검증 |
| `/validate` | 빠른 검증 |

---

## 변경 이력

| 날짜 | 변경 | 담당자 |
|------|------|--------|
| 2026-02-03 | 에이전트 연결 추가 | @claude |
| 2026-02-03 | 초기 작성 | @claude |
