# /bugfix 명령어

게임 버그를 수정합니다.

---

## 사용법

```
/bugfix [버그 설명]
```

---

## 실행 단계

### 1. 수집 (Gather)

| 활동 | 에이전트 | 설명 |
|------|----------|------|
| 버그 재현 조건 확인 | - | 문제 상황 파악 |
| 관련 코드 탐색 | **Explore** | 원인 코드 위치 |
| 에러 메시지 분석 | - | 스택 트레이스 분석 |

### 2. 분석 (Analyze)

| 활동 | 에이전트 | 설명 |
|------|----------|------|
| 원인 파악 | - | 버그 원인 식별 |
| 영향 범위 확인 | **Explore** | 관련 파일 목록 |
| 수정 방안 결정 | - | 해결책 선택 |

**버그 영역 → 에이전트 매핑**:

| 버그 영역 | 에이전트 |
|----------|---------|
| 엔티티 동작 (이동, 충돌) | **Entity** |
| 씬 전환, 로딩 | **Scene** |
| 게임 로직 (데미지, 레벨) | **System** |
| UI 표시, 인터랙션 | **UI** |
| 에셋 로딩, 애니메이션 | **Asset** |

### 3. 실행 (Execute)

| 에이전트 | 담당 영역 | 작업 |
|----------|----------|------|
| **Entity** | src/entities/ | 엔티티 코드 수정 |
| **System** | src/systems/ | 로직 버그 수정 |
| **Scene** | src/scenes/ | 씬 버그 수정 |
| **UI** | src/ui/ | UI 버그 수정 |
| **Asset** | public/assets/ | 에셋 문제 수정 |

### 4. 검증 (Validate)

| 활동 | 에이전트/도구 | 명령어 |
|------|--------------|--------|
| 단위 테스트 | **Tester** | `npm run test` |
| 타입 체크 | - | `npx tsc --noEmit` |
| 빌드 | - | `npm run build` |
| 회귀 테스트 | **QA** | 관련 시나리오 |

```bash
# Quality Gate (자동)
make qa-auto

# 회귀 테스트 (수동)
# .claude/qa/scenarios/regression.md 참조
```

### 5. Next Step 제안

- 회귀 방지 방안
- 관련 테스트 추가 권장 (**Tester** Agent)
- 유사 버그 점검

---

## 에이전트 협업 다이어그램

```
┌─────────────────────────────────────────────────────────────────┐
│  /bugfix 실행                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Gather ──────→ Explore Agent (원인 코드 탐색)                   │
│                     │                                            │
│                     ▼                                            │
│  Analyze ─────→ 버그 영역 파악                                   │
│                     │                                            │
│                     ▼                                            │
│  Execute ─────→ 담당 에이전트 (Entity/Scene/System/UI/Asset)    │
│                     │                                            │
│                     ▼                                            │
│  Validate ────→ Tester Agent (회귀 테스트)                       │
│                 QA Agent (시나리오 검증)                         │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 예시

```bash
# 전투 데미지 버그 수정
/bugfix 공격 시 데미지가 음수로 계산되는 버그

# 에이전트 흐름:
# 1. Explore → BattleSystem.ts 분석
# 2. System Agent → calculateDamage() 수정
# 3. Tester Agent → 테스트 케이스 추가
# 4. QA Agent → 전투 시나리오 검증
```

---

## 관련 명령어

| 명령어 | 설명 |
|--------|------|
| `/new-feature` | 새 기능 추가 |
| `/qa` | 품질 검증 |
| `/qa-auto` | 자동화 테스트 |

---

## 변경 이력

| 날짜 | 변경 | 담당자 |
|------|------|--------|
| 2026-02-03 | 에이전트 연결 추가 | @claude |
| 2026-02-03 | 초기 작성 | @claude |
