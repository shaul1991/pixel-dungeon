# 전투 시나리오 테스트

**버전**: v0.1.0
**소요 시간**: 10분
**목적**: 전투 시스템의 모든 기능 검증
**업데이트**: 2026-02-03

---

## 개요

턴제 전투 시스템의 전체 기능을 검증합니다:
- 전투 진입/종료
- 공격/도망 메카닉
- 데미지 계산
- 승리/패배 조건
- UI 표시

---

## 사전 준비

```bash
make dev
# http://localhost:5173
# New Game 시작 → 몬스터(슬라임) 위치로 이동
```

---

## 체크리스트 (18항목)

### 1. 전투 진입 (3항목)

| # | 항목 | 상태 | 비고 |
|---|------|------|------|
| 1.1 | 몬스터 접촉 시 BattleScene으로 전환 | [ ] | |
| 1.2 | 화면 전환 시 깜빡임/오류 없음 | [ ] | |
| 1.3 | 몬스터 스프라이트 표시됨 | [ ] | |

### 2. 전투 UI (5항목)

| # | 항목 | 상태 | 비고 |
|---|------|------|------|
| 2.1 | 플레이어 HP 바 표시 | [ ] | |
| 2.2 | 플레이어 MP 바 표시 | [ ] | |
| 2.3 | 몬스터 HP 바 표시 | [ ] | |
| 2.4 | 4개 메뉴 버튼 (Attack/Skill/Item/Run) | [ ] | |
| 2.5 | 전투 메시지 표시 영역 | [ ] | |

### 3. 공격 (Attack) (4항목)

| # | 항목 | 상태 | 비고 |
|---|------|------|------|
| 3.1 | Attack 선택 시 플레이어가 공격 | [ ] | |
| 3.2 | 데미지 값이 표시됨 | [ ] | |
| 3.3 | 몬스터 HP 바가 감소 | [ ] | |
| 3.4 | 몬스터 턴: 몬스터가 반격 | [ ] | |

### 4. 도망 (Run) (3항목)

| # | 항목 | 상태 | 비고 |
|---|------|------|------|
| 4.1 | Run 선택 시 도망 시도 | [ ] | |
| 4.2 | 성공 시 GameScene으로 복귀 | [ ] | |
| 4.3 | 실패 시 "도망 실패" 메시지 표시 | [ ] | |

### 5. 전투 종료 (3항목)

| # | 항목 | 상태 | 비고 |
|---|------|------|------|
| 5.1 | 몬스터 HP 0 → 승리 메시지 | [ ] | |
| 5.2 | 승리 후 경험치/골드 표시 | [ ] | |
| 5.3 | 플레이어 HP 0 → 패배 처리 | [ ] | |

---

## 데미지 계산 검증

### 예상 값 (슬라임 기준)
- 플레이어: ATK 10, DEF 5
- 슬라임: ATK 5, DEF 2, HP 30

| 계산 | 공식 | 예상 범위 |
|------|------|----------|
| 플레이어 → 슬라임 | 10 - 1 + rand(-2,2) | 7-11 |
| 슬라임 → 플레이어 | 5 - 2 + rand(-2,2) | 1-5 |

### 확인 항목

| # | 항목 | 상태 | 비고 |
|---|------|------|------|
| D.1 | 플레이어 데미지가 예상 범위 내 | [ ] | |
| D.2 | 몬스터 데미지가 예상 범위 내 | [ ] | |
| D.3 | 최소 데미지 1 보장 | [ ] | |

---

## 결과 요약

| 영역 | 항목 수 | 통과 | 실패 |
|------|--------|------|------|
| 전투 진입 | 3 | /3 | /3 |
| 전투 UI | 5 | /5 | /5 |
| 공격 | 4 | /4 | /4 |
| 도망 | 3 | /3 | /3 |
| 전투 종료 | 3 | /3 | /3 |
| **총계** | **18** | **/18** | **/18** |

---

## 관련 파일

- `src/scenes/BattleScene.ts` - 전투 씬
- `src/systems/BattleSystem.ts` - 전투 로직
- `src/ui/BattleUI.ts` - 전투 UI
- `src/ui/HealthBar.ts` - HP/MP 바

---

## 변경 이력

| 날짜 | 변경 | 담당자 |
|------|------|--------|
| 2026-02-03 | 초기 작성 | @claude |
