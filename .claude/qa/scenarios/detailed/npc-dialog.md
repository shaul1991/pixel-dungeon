# 시나리오: NPC 대화

**ID**: SC-003
**소요 시간**: 3분
**우선순위**: 중간
**담당 영역**: NPC 시스템, UI

---

## 목적

NPC와의 대화 시스템이 정상 동작하는지 검증합니다.

---

## 사전 조건

1. [x] 게임 시작 완료 (GameScene)
2. [x] 플레이어 조작 가능 상태

---

## 테스트 단계

### Step 1: NPC 위치 확인

**액션**:
1. 맵에서 NPC 위치 확인
2. NPC 스프라이트 (사람 형태, 파란색 의상)

**예상 결과**:
- NPC가 맵에 표시됨
- 위치: 대략 (5, 5) 타일 근처

---

### Step 2: NPC에게 접근

**액션**:
1. WASD/화살표키로 NPC 방향으로 이동
2. NPC 바로 옆 타일까지 이동

**예상 결과**:
- 플레이어가 NPC 옆에 도착
- NPC와 겹치지 않음 (충돌 처리)

---

### Step 3: 대화 시작

**액션**:
1. NPC 옆에서 Space 키 누르기

**예상 결과**:
- 대화창(DialogBox) 표시
- 화면 하단에 위치
- NPC 이름 표시 "Elder"

---

### Step 4: 대화 텍스트 확인

**액션**:
1. 대화창 텍스트 관찰

**예상 결과**:
- 텍스트가 한 글자씩 타이핑 효과로 표시
- "Welcome to the village..." 등의 메시지
- 타이핑 속도 적절

---

### Step 5: 대화 진행

**액션**:
1. Space 또는 Enter 키로 대화 진행
2. 다음 대화가 있으면 표시

**예상 결과**:
- 다음 대화 텍스트 표시 (있다면)
- 또는 대화 종료

---

### Step 6: 대화 종료

**액션**:
1. 마지막 대화에서 Space/Enter

**예상 결과**:
- 대화창 닫힘
- 플레이어 조작 가능 상태로 복귀
- 정상적인 게임 플레이 가능

---

### Step 7: 재대화

**액션**:
1. 다시 NPC 옆에서 Space

**예상 결과**:
- 대화 다시 시작 가능
- 같은 내용 표시

---

## 검증 항목

| # | 검증 내용 | Pass/Fail | 비고 |
|---|----------|-----------|------|
| 1 | NPC 맵에 표시 | [ ] | |
| 2 | Space로 대화 시작 | [ ] | |
| 3 | 대화창 표시 | [ ] | |
| 4 | NPC 이름 표시 | [ ] | |
| 5 | 타이핑 효과 | [ ] | |
| 6 | 대화 진행 (Space/Enter) | [ ] | |
| 7 | 대화 종료 후 조작 가능 | [ ] | |

---

## 예외 케이스

- [ ] 대화 중 이동 불가 확인
- [ ] 멀리서 Space 눌러도 대화 시작 안됨
- [ ] 대화 중 다른 키 입력 무시

---

## 관련 파일

- `src/entities/NPC.ts`
- `src/ui/DialogBox.ts`
- `src/scenes/GameScene.ts`

---

## 변경 이력

| 날짜 | 변경 | 담당자 |
|------|------|--------|
| 2026-02-03 | 초기 작성 | @claude |
