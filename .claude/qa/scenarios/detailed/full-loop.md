# 시나리오: 전체 게임 루프

**ID**: SC-007
**소요 시간**: 10분
**우선순위**: 높음
**담당 영역**: 전체 시스템

---

## 목적

게임의 전체 루프(시작 → 탐험 → 상호작용 → 전투 → 종료)가
자연스럽게 연결되는지 검증합니다.

---

## 사전 조건

1. [x] 개발 서버 실행 (`make dev`)
2. [x] 브라우저 캐시 삭제 (권장)

---

## 테스트 단계

### Phase 1: 게임 시작 (2분)

#### Step 1.1: 페이지 로딩

**액션**: 브라우저에서 `http://localhost:5173` 접속

**체크포인트**:
- [ ] 로딩 완료
- [ ] 메인 메뉴 표시
- [ ] 콘솔 에러 없음

#### Step 1.2: 게임 시작

**액션**: "New Game" 클릭

**체크포인트**:
- [ ] GameScene 전환
- [ ] 맵 표시
- [ ] 플레이어 표시

---

### Phase 2: 탐험 (2분)

#### Step 2.1: 맵 탐색

**액션**: WASD로 맵 전체를 돌아다님

**체크포인트**:
- [ ] 4방향 이동 정상
- [ ] 벽 충돌 정상
- [ ] 애니메이션 정상

#### Step 2.2: 환경 확인

**액션**: NPC와 몬스터 위치 확인

**체크포인트**:
- [ ] NPC 표시됨
- [ ] 몬스터 표시됨

---

### Phase 3: NPC 상호작용 (2분)

#### Step 3.1: 대화 시작

**액션**: NPC 접근 후 Space

**체크포인트**:
- [ ] 대화창 표시
- [ ] 텍스트 타이핑

#### Step 3.2: 대화 종료

**액션**: 대화 끝까지 진행

**체크포인트**:
- [ ] 대화창 닫힘
- [ ] 조작 복귀

---

### Phase 4: 첫 전투 (3분)

#### Step 4.1: 전투 진입

**액션**: 몬스터와 접촉

**체크포인트**:
- [ ] 전투 화면 전환
- [ ] 전투 UI 표시

#### Step 4.2: 전투 진행

**액션**: Attack으로 전투

**체크포인트**:
- [ ] 데미지 발생
- [ ] HP 변화
- [ ] 턴 교대

#### Step 4.3: 전투 종료

**액션**: 승리 또는 도망

**체크포인트**:
- [ ] 결과 메시지
- [ ] GameScene 복귀

---

### Phase 5: 게임 지속 (1분)

#### Step 5.1: 상태 확인

**액션**: 복귀 후 상태 확인

**체크포인트**:
- [ ] 플레이어 HP 유지
- [ ] 게임 계속 가능

#### Step 5.2: 추가 플레이

**액션**: 다른 몬스터와 전투 또는 탐험 계속

**체크포인트**:
- [ ] 반복 플레이 가능
- [ ] 안정성 유지

---

## 전체 플로우 다이어그램

```
┌─────────────┐
│  시작 화면   │
│   (Menu)    │
└──────┬──────┘
       │ New Game
       ▼
┌─────────────┐
│   탐험      │◄─────────────┐
│  (Game)    │              │
└──────┬──────┘              │
       │                     │
   ┌───┴───┐                │
   │       │                │
   ▼       ▼                │
┌─────┐  ┌─────┐            │
│ NPC │  │몬스터│            │
│대화 │  │접촉 │            │
└──┬──┘  └──┬──┘            │
   │        │               │
   │        ▼               │
   │   ┌─────────┐          │
   │   │  전투   │          │
   │   │(Battle) │          │
   │   └────┬────┘          │
   │        │               │
   │    ┌───┴───┐           │
   │    │       │           │
   │    ▼       ▼           │
   │  ┌───┐  ┌────┐         │
   │  │승리│  │패배│         │
   │  └─┬─┘  └──┬─┘         │
   │    │       │           │
   │    │       ▼           │
   │    │   ┌───────┐       │
   │    │   │게임오버│       │
   │    │   └───┬───┘       │
   │    │       │           │
   └────┴───────┴───────────┘
              복귀
```

---

## 결과 요약

| Phase | 체크포인트 | 통과 |
|-------|-----------|------|
| 1. 게임 시작 | 6 | /6 |
| 2. 탐험 | 5 | /5 |
| 3. NPC 상호작용 | 4 | /4 |
| 4. 첫 전투 | 7 | /7 |
| 5. 게임 지속 | 4 | /4 |
| **총계** | **26** | **/26** |

---

## 전체 판정

- [ ] **PASS**: 모든 체크포인트 통과, 자연스러운 플로우
- [ ] **CONDITIONAL**: 경미한 이슈, 게임 진행 가능
- [ ] **FAIL**: 심각한 이슈, 게임 진행 불가

---

## 발견된 이슈

| # | Phase | 설명 | 심각도 |
|---|-------|------|--------|
| - | - | - | - |

---

## 관련 파일

- 전체 `src/scenes/`
- 전체 `src/entities/`
- 전체 `src/systems/`
- 전체 `src/ui/`

---

## 변경 이력

| 날짜 | 변경 | 담당자 |
|------|------|--------|
| 2026-02-03 | 초기 작성 | @claude |
